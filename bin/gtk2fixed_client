#!/usr/bin/env ruby
require 'rubygems'
gem 'gtk2applib', '~> 1.0.0'
require 'gtk2blackjack/gtk2_app'
require 'gtk2blackjack/gtk2_app_fixed'

about = {
	:authors	=> ['carlosjhr64@gmail.com'],
	:comments	=> 'The Game Of Twenty-One',
	:website	=> 'http://ruby-gnome-apps.blogspot.com/search/label/BlackJack',
	:website_label	=> 'Ruby-Gnome BlackJack',
	:license	=> 'GPL',
	:copyright	=> '2009-Mar-31',
	}

# Set the full screen option to false
Gtk2App.instance(__FILE__, 'Ruby-Gnome BlackJack', about, false) do |window|
  fixed = Gtk2App::Fixed.new(Configuration::CANVAS_IMAGE_DIRECTORY, Configuration::CANVAS_IMAGE_PATTERN)
  fixed.font = Configuration::FONT[:small]
  window.modify_bg(Gtk::STATE_NORMAL, Configuration::COLOR[:bg])
  th = Thread.new{ fixed.pipe_client }
  window.signal_connect('destroy'){ th.kill; $stdout.puts 'q'; $stdout.flush }
  window.add(fixed)  
end
