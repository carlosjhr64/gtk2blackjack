#!/usr/bin/env ruby
require 'rubygems'
gem 'gtk2applib', '~> 5.0.0'
require 'gtk2applib/gtk2_app'

Gtk2App.init( {
        :name           => 'Ruby-Gnome BlackJack',
        :tooltip        => 'BlackJack',
        :FILE           => __FILE__,
        } )

about = {
	:authors	=> ['carlosjhr64@gmail.com'],
	:website	=> 'http://ruby-gnome-apps.blogspot.com/search/label/BlackJack',
	:website_label	=> 'Ruby-Gnome BlackJack',
	:license	=> 'GPL',
	:copyright	=> '2010-02-24 10:31:28',
	}

Gtk2App.main_window(about) do |window|
  fixed = Gtk2App::Fixed.new(Configuration::CANVAS_IMAGE_DIRECTORY, nil, Configuration::OPTIONS)
  window.modify_bg(Gtk::STATE_NORMAL, Configuration::BACKGROUND_COLOR)
  th = Thread.new{ fixed.pipe_client }
  window.signal_connect('destroy'){ th.kill; $stdout.puts 'q'; $stdout.flush }
  window.add(fixed)  
end

Gtk2App.finalize
