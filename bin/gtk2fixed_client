#!/usr/bin/env ruby
require 'rubygems'
gem 'gtk2applib', '~> 7'
require 'gtk2applib'

program = Gtk2AppLib::Program.new( {
        :name           => 'Ruby-Gnome BlackJack',
        :tooltip        => 'BlackJack',
	:icon_name	=> 'Icon Test',
	:FILE		=> __FILE__,
	:lock		=> "Proceed anyways?",
	} )

about = {
	:authors	=> ['carlosjhr64@gmail.com'],
	:website	=> 'http://ruby-gnome-apps.blogspot.com/search/label/BlackJack',
	:website_label	=> 'Ruby-Gnome BlackJack',
	:license	=> 'GPL',
	:copyright	=> '2010-02-24 10:31:28',
	}

program.window(about) do |window|
  include Gtk2AppLib
  window.modify_bg(Gtk::STATE_NORMAL, Configuration::BACKGROUND_COLOR)
  fixed = FixedInterpreter.new(window, Configuration::OPTIONS)
  th = Thread.new{ fixed.pipe_client }
  window.signal_connect('destroy'){ th.kill; $stdout.puts 'q'; $stdout.flush }
end

program.finalize
